# === Server Infrastructure ===
# 0.0.0.0 listens on all interfaces (Docker friendly)
SERVER_HOST=0.0.0.0
SERVER_PORT=9501
# Number of Swoole workers (usually matches CPU cores)
SERVER_WORKER_NUM=4
# Dispatch mode 2 is Fixed (FD based) for WebSocket stability
SERVER_DISPATCH_MODE=2
# Socket's receive and send buffer sizes for TCP/UDP connections
SOCKET_BUFFER_SIZE_MB=64

# === Logging ===
# Available levels: debug, info, notice, warning, error, critical, alert, emergency
LOG_LEVEL=info

# === Shared Memory & Queues ===
# Internal Swoole\Table size (must be power of 2)
WS_TABLE_SIZE=1024
# Global channel capacity for task queuing
QUEUE_CAPACITY=10000

# === Task Engine Concurrency ===
# Number of coroutine consumers per worker
WORKER_CONCURRENCY=10
# Legacy or fallback pool setting (if needed)
DEFAULT_WORKER_POOL=10
# Max concurrency (demo)
TASK_SEMAPHORE_MAX_LIMIT=10
# Lock timeout
TASK_LOCK_TIMEOUT_SEC=30

# === Real-time & Monitoring ===
# WebSocket metrics broadcast frequency (ms)
METRICS_UPDATE_INTERVAL_MS=1000
# How long to wait for active tasks during "make stop" (sec)
GRACEFUL_SHUTDOWN_TIMEOUT_SEC=5

